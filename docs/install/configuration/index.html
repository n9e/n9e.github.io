<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://n9e.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://n9e.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://n9e.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://n9e.github.io/main.dd0fbc6c832be79a8341aacd98d324c8674be1aa7b83e2aa420b28d250f5cf4fef6d5da8f760a3b37f218160bdb23864ff3983c3b5c16f50b92cc0d4d7ea1113.css integrity="sha512-3Q+8bIMr55qDQarNmNMkyGdL4ap7g+KqQgso0lD1z0/vbV2o92Cjs38hgWC9sjhk/zmDw7XBb1C5LMDU1+oREw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Configuration - Nightingale</title><meta name=description content="Explanation of the configuration files for Nightingale monitoring, with detailed descriptions of each configuration item"><link rel=canonical href=https://n9e.github.io/docs/install/configuration/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Configuration"><meta property="og:description" content="Explanation of the configuration files for Nightingale monitoring, with detailed descriptions of each configuration item"><meta property="og:url" content="https://n9e.github.io/docs/install/configuration/"><meta property="og:site_name" content="Home"><meta property="article:published_time" content="2025-07-26T14:14:47+08:00"><meta property="article:modified_time" content="2025-12-27T14:19:09+08:00"><meta property="og:image" content="https://n9e.github.io/doks.png"><meta property="og:image:alt" content="Home"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@ulricqin"><meta name=twitter:creator content="@henkverlinde"><meta name=twitter:title content="Configuration"><meta name=twitter:description content="Explanation of the configuration files for Nightingale monitoring, with detailed descriptions of each configuration item"><meta name=twitter:image content="https://n9e.github.io/doks.png"><meta name=twitter:image:alt content="Configuration"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://n9e.github.io/#/schema/organization/1","name":"Doks","url":"https://n9e.github.io/","sameAs":["https://twitter.com/ulricqin","https://github.com/ccfos/nightingale"],"logo":{"@type":"ImageObject","@id":"https://n9e.github.io/#/schema/image/1","url":"https://n9e.github.io/logo-doks.png","width":512,"height":512,"caption":"Doks"},"image":{"@id":"https://n9e.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://n9e.github.io/#/schema/website/1","url":"https://n9e.github.io/","name":"Home","description":"Nightingale is an open-source monitoring system that focuses on alerting.","publisher":{"@id":"https://n9e.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://n9e.github.io/docs/install/configuration/","url":"https://n9e.github.io/docs/install/configuration/","name":"Configuration","description":"Explanation of the configuration files for Nightingale monitoring, with detailed descriptions of each configuration item","isPartOf":{"@id":"https://n9e.github.io/#/schema/website/1"},"about":{"@id":"https://n9e.github.io/#/schema/organization/1"},"datePublished":"2025-07-26T14:14:47CET","dateModified":"2025-12-27T14:19:09CET","breadcrumb":{"@id":"https://n9e.github.io/docs/install/configuration/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://n9e.github.io/docs/install/configuration/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://n9e.github.io/docs/install/configuration/"]}]},{"@type":"BreadcrumbList","@id":"https://n9e.github.io/docs/install/configuration/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://n9e.github.io/","url":"https://n9e.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://n9e.github.io/docs/","url":"https://n9e.github.io/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://n9e.github.io/docs/install/","url":"https://n9e.github.io/docs/install/","name":"Install"}},{"@type":"ListItem","position":4,"item":{"@id":"https://n9e.github.io/docs/install/configuration/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://n9e.github.io/#/schema/article/1","headline":"Configuration","description":"Explanation of the configuration files for Nightingale monitoring, with detailed descriptions of each configuration item","isPartOf":{"@id":"https://n9e.github.io/docs/install/configuration/"},"mainEntityOfPage":{"@id":"https://n9e.github.io/docs/install/configuration/"},"datePublished":"2025-07-26T14:14:47CET","dateModified":"2025-12-27T14:19:09CET","author":{"@id":"https://n9e.github.io/#/schema/person/2"},"publisher":{"@id":"https://n9e.github.io/#/schema/organization/1"},"image":{"@id":"https://n9e.github.io/docs/install/configuration/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://n9e.github.io/#/schema/person/2","name":"Henk Verlinde","sameAs":["https://twitter.com/henkverlinde","https://www.linkedin.com/in/henkverlinde/","https://github.com/UlricQin"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://n9e.github.io/docs/install/configuration/#/schema/image/2","url":"https://n9e.github.io/doks.png","contentUrl":"https://n9e.github.io/doks.png","caption":"Configuration"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://n9e.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://n9e.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://n9e.github.io/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://n9e.github.io/site.webmanifest></head><body class="docs single"><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/ aria-label=Home>Home</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>Home</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/docs/prologue/introduction/>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/blog/>Blogs</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/ccfos/nightingale><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><div class="dropdown order-md-2"><button class="btn btn-doks-light dropdown-toggle" id=doks-languages data-bs-toggle=dropdown aria-expanded=false data-bs-display=static>
EN
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></button><ul class="dropdown-menu dropdown-menu-end shadow rounded border-0" aria-labelledby=doks-languages><li><a class="dropdown-item current" aria-current=true href=/docs/install/configuration/>English</a></li><li><hr class=dropdown-divider></li><li><a class=dropdown-item rel=alternate href=/zh/docs/install/configuration/ hreflang=zh lang=zh>Chinese</a></li></ul></div></nav></header><nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation"><div class="container-xxl d-flex align-items-md-center"><form class="doks-search position-relative flex-grow-1 me-auto"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><button class="btn doks-sidebar-toggle d-lg-none ms-3 order-3 collapsed" type=button data-bs-toggle=collapse data-bs-target=#doks-docs-nav aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle documentation navigation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></button></div></nav><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-5f2cae171c6192fa410df4385f7218aa aria-expanded=false>
Prologue</button><div class=collapse id=section-5f2cae171c6192fa410df4385f7218aa><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/prometheus/>Nightingale vs Prometheus</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/pre-knowledge/>Prior knowledge</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/architecture/>Architecture</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/flashcat/>Enterprise Edition</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/videos/>Videos for Getting Started</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-7cd8fb6e31cc946c078d2740c76a9899 aria-expanded=true>
Installation</button><div class="collapse show" id=section-7cd8fb6e31cc946c078d2740c76a9899><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/pre-intro/>Pre-Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/upgrade/>Upgrade</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/binary/>Binary Deployment</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/compose/>Docker Compose</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/helm/>Helm</a></li><li><a class="docs-link rounded active" href=https://n9e.github.io/docs/install/configuration/>Configuration</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8fc330d76e990ab6964af08ea1e47d2e aria-expanded=false>
Collector</button><div class=collapse id=section-8fc330d76e990ab6964af08ea1e47d2e><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/intro/>Pre explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/categraf/>Categraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/telegraf/>Telegraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/datadog-agent/>Datadog-Agent</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-411eaaaa405899304e54dce3363a2baf aria-expanded=false>
Quick Start</button><div class=collapse id=section-411eaaaa405899304e54dce3363a2baf><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/datasource/>Data Sources</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/ad-hoc/>Ad-hoc Query</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/metric-alerting/>Metric Alerting</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/logs-alerting/>Log Alerting</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/notify-rules/>Notification Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/dashboard/>Dashboard</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8c004d7e3b8a5a850ab2459c3afc2f57 aria-expanded=false>
Practice</button><div class=collapse id=section-8c004d7e3b8a5a850ab2459c3afc2f57><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/linux/>Linux OS</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/proc/>Process</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/port/>Port</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/exec/>Plugin Scripts</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/mysql/>MySQL</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/redis/>Redis</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/oracle/>Oracle</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/java/>Java Programs</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-4de8388d84a18a2e157114d9fecff0fe aria-expanded=false>
Use Case</button><div class=collapse id=section-4de8388d84a18a2e157114d9fecff0fe><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/alerting/>Alerting Principles and Process Explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/bizgroup/>Business Groups</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/mute/>Muting Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/subscribe/>Subscription Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/processor/>Event Processor</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/media/>Custom Notification Media</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/sso/>Single Sign-On (SSO)</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/api/>API</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1fe917b01f9a3f87fa2d7d3b7643fac1 aria-expanded=false>
FAQ</button><div class=collapse id=section-1fe917b01f9a3f87fa2d7d3b7643fac1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/global-callback/>Global Callback is Deprecated, How to Handle Global Scenarios?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/cpu-alerting/>Should 'High CPU Load' Trigger an Alert?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/biz-team-subscribe-infra-alarms/>Should upper-layer businesses receive alarms from underlying infrastructure?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/how-to-import-prometheus-rules/>How to import Prometheus rules?</a></li></ul></div></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-5f2cae171c6192fa410df4385f7218aa aria-expanded=false>
Prologue</button><div class=collapse id=section-5f2cae171c6192fa410df4385f7218aa><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/prometheus/>Nightingale vs Prometheus</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/pre-knowledge/>Prior knowledge</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/architecture/>Architecture</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/flashcat/>Enterprise Edition</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/videos/>Videos for Getting Started</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-7cd8fb6e31cc946c078d2740c76a9899 aria-expanded=true>
Installation</button><div class="collapse show" id=section-7cd8fb6e31cc946c078d2740c76a9899><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/pre-intro/>Pre-Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/upgrade/>Upgrade</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/binary/>Binary Deployment</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/compose/>Docker Compose</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/helm/>Helm</a></li><li><a class="docs-link rounded active" href=https://n9e.github.io/docs/install/configuration/>Configuration</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8fc330d76e990ab6964af08ea1e47d2e aria-expanded=false>
Collector</button><div class=collapse id=section-8fc330d76e990ab6964af08ea1e47d2e><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/intro/>Pre explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/categraf/>Categraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/telegraf/>Telegraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/datadog-agent/>Datadog-Agent</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-411eaaaa405899304e54dce3363a2baf aria-expanded=false>
Quick Start</button><div class=collapse id=section-411eaaaa405899304e54dce3363a2baf><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/datasource/>Data Sources</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/ad-hoc/>Ad-hoc Query</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/metric-alerting/>Metric Alerting</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/logs-alerting/>Log Alerting</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/notify-rules/>Notification Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/dashboard/>Dashboard</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8c004d7e3b8a5a850ab2459c3afc2f57 aria-expanded=false>
Practice</button><div class=collapse id=section-8c004d7e3b8a5a850ab2459c3afc2f57><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/linux/>Linux OS</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/proc/>Process</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/port/>Port</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/exec/>Plugin Scripts</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/mysql/>MySQL</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/redis/>Redis</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/oracle/>Oracle</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/java/>Java Programs</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-4de8388d84a18a2e157114d9fecff0fe aria-expanded=false>
Use Case</button><div class=collapse id=section-4de8388d84a18a2e157114d9fecff0fe><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/alerting/>Alerting Principles and Process Explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/bizgroup/>Business Groups</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/mute/>Muting Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/subscribe/>Subscription Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/processor/>Event Processor</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/media/>Custom Notification Media</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/sso/>Single Sign-On (SSO)</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/api/>API</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1fe917b01f9a3f87fa2d7d3b7643fac1 aria-expanded=false>
FAQ</button><div class=collapse id=section-1fe917b01f9a3f87fa2d7d3b7643fac1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/global-callback/>Global Callback is Deprecated, How to Handle Global Scenarios?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/cpu-alerting/>Should 'High CPU Load' Trigger an Alert?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/biz-team-subscribe-infra-alarms/>Should upper-layer businesses receive alarms from underlying infrastructure?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/how-to-import-prometheus-rules/>How to import Prometheus rules?</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#global>Global</a></li><li><a href=#log>Log</a></li><li><a href=#http>HTTP</a><ul><li><a href=#httpshowcaptcha>HTTP.ShowCaptcha</a></li><li><a href=#httpapiforagent>HTTP.APIForAgent</a></li><li><a href=#httpapiforservice>HTTP.APIForService</a></li><li><a href=#httpjwtauth>HTTP.JWTAuth</a></li><li><a href=#httpproxyauth>HTTP.ProxyAuth</a></li><li><a href=#httprsa>HTTP.RSA</a></li></ul></li><li><a href=#db>DB</a></li><li><a href=#redis>Redis</a></li><li><a href=#alert>Alert</a><ul><li><a href=#alertheartbeat>Alert.Heartbeat</a></li></ul></li><li><a href=#center>Center</a></li><li><a href=#pushgw>Pushgw</a><ul><li><a href=#pushgwdebugsample>Pushgw.DebugSample</a></li><li><a href=#pushgwwriteropt>Pushgw.WriterOpt</a></li><li><a href=#pushgwwriters>Pushgw.Writers</a></li></ul></li><li><a href=#ibex>Ibex</a></li><li><a href=#n9e-edge-configuration>n9e-edge configuration</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Configuration</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#global>Global</a></li><li><a href=#log>Log</a></li><li><a href=#http>HTTP</a><ul><li><a href=#httpshowcaptcha>HTTP.ShowCaptcha</a></li><li><a href=#httpapiforagent>HTTP.APIForAgent</a></li><li><a href=#httpapiforservice>HTTP.APIForService</a></li><li><a href=#httpjwtauth>HTTP.JWTAuth</a></li><li><a href=#httpproxyauth>HTTP.ProxyAuth</a></li><li><a href=#httprsa>HTTP.RSA</a></li></ul></li><li><a href=#db>DB</a></li><li><a href=#redis>Redis</a></li><li><a href=#alert>Alert</a><ul><li><a href=#alertheartbeat>Alert.Heartbeat</a></li></ul></li><li><a href=#center>Center</a></li><li><a href=#pushgw>Pushgw</a><ul><li><a href=#pushgwdebugsample>Pushgw.DebugSample</a></li><li><a href=#pushgwwriteropt>Pushgw.WriterOpt</a></li><li><a href=#pushgwwriters>Pushgw.Writers</a></li></ul></li><li><a href=#ibex>Ibex</a></li><li><a href=#n9e-edge-configuration>n9e-edge configuration</a></li></ul></nav></div></nav><p>The configuration file for the central n9e is <code>etc/config.toml</code>, and the configuration file for the edge alert engine n9e-edge is <code>etc/edge/edge.toml</code>. Here we first explain the n9e configuration file in sections.</p><h2 id=global>Global <a href=#global class=anchor aria-hidden=true>#</a></h2><pre><code class=language-toml>[Global]
RunMode = &quot;release&quot;
</code></pre><p>This is a configuration item used by Nightingale developers; ordinary users don&rsquo;t need to care about it. It should always remain <code>release</code>.</p><h2 id=log>Log <a href=#log class=anchor aria-hidden=true>#</a></h2><pre><code class=language-toml>[Log]
# stdout, stderr, file
Output = &quot;stdout&quot;
# log write dir
Dir = &quot;logs&quot;
# log level: DEBUG INFO WARNING ERROR
Level = &quot;DEBUG&quot;
# # rotate by time
# KeepHours = 4
# # rotate by size
# RotateNum = 3
# # unit: MB
# RotateSize = 256
</code></pre><ul><li><code>Output</code>: Log output method, supporting <code>stdout</code>, <code>stderr</code>, <code>file</code>. Only in <code>file</code> mode will logs be output to files, and the following configuration items will be used.</li><li><code>Dir</code>: Directory for storing log files</li><li><code>Level</code>: Log level, supporting <code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code></li><li><code>KeepHours</code>: Log file retention time in hours. Logs can be rotated by time or size. If rotated by time, use this configuration item (one log file per hour); if rotated by size, use the following two configuration items.</li><li><code>RotateNum</code>: Number of retained log files</li><li><code>RotateSize</code>: Log file size in MB</li></ul><h2 id=http>HTTP <a href=#http class=anchor aria-hidden=true>#</a></h2><pre><code class=language-toml>[HTTP]
# http listening address
Host = &quot;0.0.0.0&quot;
# http listening port
Port = 17000
# https cert file path
CertFile = &quot;&quot;
# https key file path
KeyFile = &quot;&quot;
# whether print access log
PrintAccessLog = false
# whether enable pprof
PProf = true
# expose prometheus /metrics?
ExposeMetrics = true
# http graceful shutdown timeout, unit: s
ShutdownTimeout = 30
# max content length: 64M
MaxContentLength = 67108864
# http server read timeout, unit: s
ReadTimeout = 20
# http server write timeout, unit: s
WriteTimeout = 40
# http server idle timeout, unit: s
IdleTimeout = 120
</code></pre><ul><li><code>Host</code>: HTTP service listening address, usually <code>0.0.0.0</code> to listen on all network interfaces</li><li><code>Port</code>: HTTP service listening port</li><li><code>CertFile</code>: HTTPS certificate file path</li><li><code>KeyFile</code>: HTTPS key file path</li><li><code>PrintAccessLog</code>: Whether to print access logs</li><li><code>PProf</code>: Whether to enable pprof. If enabled, pprof information can be viewed at <code>/api/debug/pprof/</code></li><li><code>ExposeMetrics</code>: Whether to expose Prometheus&rsquo;s <code>/metrics</code> interface for exposing Nightingale&rsquo;s own monitoring metrics</li><li><code>ShutdownTimeout</code>: HTTP service graceful shutdown timeout in seconds</li><li><code>MaxContentLength</code>: Maximum HTTP request length in bytes</li><li><code>ReadTimeout</code>: HTTP read timeout in seconds</li><li><code>WriteTimeout</code>: HTTP write timeout in seconds</li><li><code>IdleTimeout</code>: HTTP idle timeout in seconds</li></ul><h3 id=httpshowcaptcha>HTTP.ShowCaptcha <a href=#httpshowcaptcha class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[HTTP.ShowCaptcha]
Enable = false
</code></pre><ul><li><code>Enable</code>: Whether to enable the captcha function</li></ul><h3 id=httpapiforagent>HTTP.APIForAgent <a href=#httpapiforagent class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[HTTP.APIForAgent]
Enable = true
# [HTTP.APIForAgent.BasicAuth]
# user001 = &quot;ccc26da7b9aba533cbb263a36c07dcc5&quot;
</code></pre><ul><li><code>Enable</code>: Whether to enable the API interface for Agent. Normally, this must be enabled, so this configuration item is generally <code>true</code>.</li><li><code>BasicAuth</code>: The Agent&rsquo;s API interface supports BasicAuth. Configure BasicAuth username and password here. For internal network communication, BasicAuth is not required; for public network communication, it is recommended to configure BasicAuth, and the password must not use the default one to avoid attacks.</li><li>In the example above, <code>user001</code> is the BasicAuth username, and <code>ccc26da7b9aba533cbb263a36c07dcc5</code> is the BasicAuth password. To configure multiple users, you can add more entries, for example:</li></ul><pre><code class=language-toml>[HTTP.APIForAgent.BasicAuth]
user001 = &quot;ccc26da7b9aba533cbb263a36c07dcc5&quot;
user002 = &quot;d4f5e6a7b8c9d0e1f2g3h4i5j6k7l8m9&quot;
</code></pre><p>Note: If you configure BasicAuth, the corresponding username and password must also be configured in the Agent&rsquo;s <code>n9e</code> configuration file; otherwise, the Agent cannot connect to the central n9e.</p><p>The default configuration has Enable set to <code>true</code> and <code>HTTP.APIForAgent.BasicAuth</code> empty, indicating that the API interfaces for Agent are enabled without BasicAuth.</p><h3 id=httpapiforservice>HTTP.APIForService <a href=#httpapiforservice class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[HTTP.APIForService]
Enable = false
[HTTP.APIForService.BasicAuth]
user001 = &quot;ccc26da7b9aba533cbb263a36c07dcc5&quot;
</code></pre><ul><li><code>Enable</code>: Whether to enable the API interface for Service. The edge alert engine n9e-edge communicates with the central n9e through these interfaces. So if you use n9e-edge, this needs to be enabled (set to <code>true</code>).</li><li><code>BasicAuth</code>: The Service&rsquo;s API interface supports BasicAuth. Configure BasicAuth username and password here. For internal network communication, BasicAuth is not required; for public network communication, it is recommended to configure BasicAuth, and the password must not use the default one to avoid attacks.</li><li>In the example above, <code>user001</code> is the BasicAuth username, and <code>ccc26da7b9aba533cbb263a36c07dcc5</code> is the BasicAuth password. To configure multiple users, you can add more entries, for example:</li></ul><pre><code class=language-toml>[HTTP.APIForService.BasicAuth]
user001 = &quot;ccc26da7b9aba533cbb263a36c07dcc5&quot;
user002 = &quot;d4f5e6a7b8c9d0e1f2g3h4i5j6k7l8m9&quot;
</code></pre><p>Note: If you configure BasicAuth, the corresponding username and password must also be configured in the n9e-edge configuration file; otherwise, n9e-edge cannot connect to the central n9e.
The default configuration has Enable set to <code>false</code>, meaning the API interfaces for other Services are not enabled, and n9e-edge cannot connect to the central n9e.</p><h3 id=httpjwtauth>HTTP.JWTAuth <a href=#httpjwtauth class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[HTTP.JWTAuth]
# unit: min
AccessExpired = 1500
# unit: min
RefreshExpired = 10080
RedisKeyPrefix = &quot;/jwt/&quot;
</code></pre><p>Nightingale uses JWT for authentication. Here configure JWT expiration times in minutes: <code>AccessExpired</code> is the expiration time of the access token, and <code>RefreshExpired</code> is the expiration time of the refresh token. For the roles of these two tokens in JWT mechanism, you can ask GPT for details, which will not be elaborated here. Nightingale stores some JWT-related information in Redis, and <code>RedisKeyPrefix</code> is the prefix for Redis keys, which generally does not need to be changed.</p><h3 id=httpproxyauth>HTTP.ProxyAuth <a href=#httpproxyauth class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[HTTP.ProxyAuth]
# if proxy auth enabled, jwt auth is disabled
Enable = false
# username key in http proxy header
HeaderUserNameKey = &quot;X-User-Name&quot;
DefaultRoles = [&quot;Standard&quot;]
</code></pre><p>If you want to embed Nightingale into your own system, you can consider using ProxyAuth, similar to Grafana&rsquo;s ProxyAuth. It means that after a user logs in to your system, you can get the username and put it in the <code>X-User-Name</code> header to pass to Nightingale, and Nightingale will consider the user logged in. <code>DefaultRoles</code> is the default role; if you don&rsquo;t pass roles, Nightingale will treat the user as having the <code>Standard</code> role.</p><p>In fact, according to observations, no community users are currently using this function, so please use it with caution.</p><h3 id=httprsa>HTTP.RSA <a href=#httprsa class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[HTTP.RSA]
OpenRSA = false
</code></pre><p>When logging in to Nightingale, user passwords are transmitted in plain text. If the Nightingale site uses HTTPS, it&rsquo;s fine; if it&rsquo;s HTTP, it&rsquo;s recommended to enable RSA encryption to prevent plain text transmission of user passwords.</p><h2 id=db>DB <a href=#db class=anchor aria-hidden=true>#</a></h2><pre><code class=language-toml>[DB]
# mysql postgres sqlite
DBType = &quot;sqlite&quot;
# postgres: host=%s port=%s user=%s dbname=%s password=%s sslmode=%s
# postgres: DSN=&quot;host=127.0.0.1 port=5432 user=root dbname=n9e_v6 password=1234 sslmode=disable&quot;
# mysql: DSN=&quot;root:1234@tcp(localhost:3306)/n9e_v6?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;
DSN = &quot;n9e.db&quot;
# enable debug mode or not
Debug = false
# unit: s
MaxLifetime = 7200
# max open connections
MaxOpenConns = 32
# max idle connections
MaxIdleConns = 8
</code></pre><p>DBType and DSN are the most critical, and the two configurations are linked. DBType supports three databases: <code>mysql</code>, <code>postgres</code>, and <code>sqlite</code>. DSN is the database connection information; for sqlite, it&rsquo;s the database file path; for mysql or postgres, it&rsquo;s the database connection information.</p><p>Starting from version v8, Nightingale sets DBType to <code>sqlite</code> by default to facilitate users&rsquo; quick experience without installing a database. However, in production environments, please use <code>mysql</code> or <code>postgres</code>.</p><p>For DSN configurations of Postgres and MySQL, you can refer to the examples in the comments. Other configurations are related to database connections and can be modified according to your environment. For general small and medium-sized environments, setting <code>MaxOpenConns</code> to 32 and <code>MaxIdleConns</code> to 8 is sufficient.</p><h2 id=redis>Redis <a href=#redis class=anchor aria-hidden=true>#</a></h2><pre><code class=language-toml>[Redis]
# standalone cluster sentinel miniredis
RedisType = &quot;miniredis&quot;
# address, ip:port or ip1:port,ip2:port for cluster and sentinel(SentinelAddrs)
Address = &quot;127.0.0.1:6379&quot;
# Username = &quot;&quot;
# Password = &quot;&quot;
# DB = 0
# UseTLS = false
# TLSMinVersion = &quot;1.2&quot;
# Mastername for sentinel type
# MasterName = &quot;mymaster&quot;
# SentinelUsername = &quot;&quot;
# SentinelPassword = &quot;&quot;
</code></pre><p>Redis is used not only to store JWT-related login authentication information but also to store metadata reported by machine heartbeats. The machine offline alert rules supported in Nightingale judge based on the heartbeat time of machines in Redis. If there is no heartbeat for a long time, the machine is considered offline.</p><blockquote><p>If Redis responds slowly, it may cause false judgments of offline alerts. That is, the machine is actually alive, but the heartbeat information in Redis is not updated in time, eventually leading Nightingale to mistakenly judge the machine as offline. Starting from version V8.beta11, monitoring indicators related to Redis operations have been added. These indicators need to be paid attention to to detect slow Redis response issues in time.</p></blockquote><p>RedisType supports four types: <code>standalone</code>, <code>cluster</code>, <code>sentinel</code>, and <code>miniredis</code>. Starting from Nightingale v8, Nightingale uses <code>miniredis</code> by default to facilitate users&rsquo; quick experience without installing Redis. However, in production environments, please use other modes.</p><p>Address is the Redis connection address, and the configuration method varies according to RedisType:</p><ul><li><code>standalone</code>: When RedisType is <code>standalone</code>, Address is the address of the Redis instance in the format <code>ip:port</code></li><li><code>cluster</code>: When RedisType is <code>cluster</code>, Address is the address of the Redis cluster in the format <code>ip1:port,ip2:port</code></li><li><code>sentinel</code>: When RedisType is <code>sentinel</code>, Address is the address of Redis Sentinel in the format <code>ip1:port,ip2:port</code>. In sentinel mode, <code>MasterName</code>, <code>SentinelUsername</code>, and <code>SentinelPassword</code> also need to be configured</li><li><code>UseTLS</code>: Whether to use TLS</li><li><code>TLSMinVersion</code>: Minimum TLS version, which takes effect only when <code>UseTLS</code> is <code>true</code></li></ul><h2 id=alert>Alert <a href=#alert class=anchor aria-hidden=true>#</a></h2><p>Starting from a certain version, Nightingale merged the webapi and alert engine modules to reduce deployment complexity. The configuration items here under Alert are for the alert engine.</p><h3 id=alertheartbeat>Alert.Heartbeat <a href=#alertheartbeat class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[Alert.Heartbeat]
# auto detect if blank
IP = &quot;&quot;
# unit ms
Interval = 1000
EngineName = &quot;default&quot;
</code></pre><ul><li><code>IP</code>: The IP address of the alert engine. If empty, Nightingale will automatically detect it. Each alert engine writes heartbeat information to MySQL, so that each alert engine knows the list of all alive alert engines, and then can perform sharding processing of alert rules. For example, with 100 alert rules and a cluster of two n9e instances, each n9e will process approximately 50 rules. When one alert engine goes down, the other will take over all 100 rules.</li><li><code>Interval</code>: Heartbeat interval in milliseconds</li><li><code>EngineName</code>: The name of the alert engine. Generally, the central end maintains <code>default</code>; for the edge alert engine n9e-edge, you can customize the EngineName, such as <code>edge1</code>, <code>edge2</code>, etc. Alert engines with the same EngineName are considered a cluster.</li></ul><h2 id=center>Center <a href=#center class=anchor aria-hidden=true>#</a></h2><p>Unique configurations for the central n9e, not present in the edge alert engine n9e-edge. These are the unique configurations related to the old version of n9e-webapi.</p><pre><code class=language-toml>[Center]
MetricsYamlFile = &quot;./etc/metrics.yaml&quot;
I18NHeaderKey = &quot;X-Language&quot;

[Center.AnonymousAccess]
PromQuerier = true
AlertDetail = true
</code></pre><ul><li><code>MetricsYamlFile</code>: Path to the metric configuration file. The explanations of metrics you see in the quick view come from this configuration file. Later, the metric view was launched, making this configuration file less important, and even the quick view function is planned to be removed.</li><li><code>I18NHeader</code>: This is a configuration item for developers; ordinary users don&rsquo;t need to care about it.</li><li><code>Center.AnonymousAccess</code>: Configuration items related to anonymous access. PromQuerier indicates whether to allow anonymous query of interfaces of various data sources; AlertDetail indicates whether to allow anonymous viewing of alert details. It can be enabled in internal network environments but must be disabled in public network environments.</li></ul><p>The dashboard has a public access function, which can even be set to be accessible without login, but this requires PromQuerier to be set to <code>true</code>. That is, if <code>PromQuerier = false</code>, even if the dashboard is set to public access, login is still required.</p><h2 id=pushgw>Pushgw <a href=#pushgw class=anchor aria-hidden=true>#</a></h2><p>Although Nightingale does not directly store monitoring data, it provides multiple interfaces for receiving monitoring data, such as interfaces for the Prometheus remote write protocol, OpenTSDB protocol, etc. After receiving the data, Nightingale forwards the monitoring data to the backend time-series database, so Nightingale acts as a Pushgateway here, and the configuration items related to Pushgateway are under <code>Pushgw</code>.</p><pre><code class=language-toml>[Pushgw]
# use target labels in database instead of in series
LabelRewrite = true
ForceUseServerTS = true
</code></pre><ul><li><code>LabelRewrite</code>: Nightingale has a machine management menu where you can tag machines, and these tags are attached to time-series data related to the machines. However, if a tag in the reported data conflicts with a tag in machine management, which one takes precedence? If <code>LabelRewrite</code> is <code>true</code>, the tag in machine management takes precedence; otherwise, the reported tag takes precedence.</li><li><code>ForceUseServerTS</code>: Whether to force the use of the server&rsquo;s timestamp to overwrite the timestamp of the received monitoring data. Previously, there was no this configuration item. Due to confusion caused by uncalibrated machine time in many companies, Nightingale provides this configuration. It is recommended to enable it to uniformly use the server&rsquo;s timestamp.</li></ul><h3 id=pushgwdebugsample>Pushgw.DebugSample <a href=#pushgwdebugsample class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[Pushgw.DebugSample]
ident = &quot;xx&quot;
__name__ = &quot;cpu_usage_active&quot;
</code></pre><p>This configuration is for debugging and troubleshooting. It is actually a filter condition for monitoring metrics. If the metrics reported to Nightingale meet this filter condition, they will be printed to the log. Generally, no configuration is needed; it can be commented out.</p><h3 id=pushgwwriteropt>Pushgw.WriterOpt <a href=#pushgwwriteropt class=anchor aria-hidden=true>#</a></h3><pre><code class=language-toml>[Pushgw.WriterOpt]
QueueMaxSize = 1000000
QueuePopSize = 1000
QueueNumber = 0
</code></pre><p>This part of the configuration is commented out by default because normally users don&rsquo;t need to pay attention to it. If Nightingale receives too much data, which gets congested in memory and eventually leads to metric loss, you need to consider adjusting the configuration here.</p><p>Nightingale creates QueueNumber queues in memory. After receiving monitoring data, it puts the data into these queues. The default configuration of QueueNumber is 0, indicating that the specific number is not specified, and queues are created according to the number of CPU cores. The maximum capacity of each queue is QueueMaxSize, which defaults to 1000000, meaning each queue can store up to 1 million data entries.</p><p>Each queue corresponds to a goroutine, which fetches QueuePopSize metrics from the queue each time. The default is 1000, meaning 1000 data entries are fetched from the queue each time and written to the backend time-series database as a batch. This takes full advantage of multi-core CPU performance. Therefore, the number of QueueNumber is essentially equal to the concurrency of writing to the backend time-series database.</p><h3 id=pushgwwriters>Pushgw.Writers <a href=#pushgwwriters class=anchor aria-hidden=true>#</a></h3><p>Here configure the remote write addresses of the backend time-series databases. All time-series databases supporting the remote write protocol can be configured here. Generally, only one needs to be configured; if you want to write to multiple time-series databases simultaneously, you can configure multiple.</p><pre><code class=language-toml>[[Pushgw.Writers]]
Url = &quot;http://127.0.0.1:9090/api/v1/write&quot;
BasicAuthUser = &quot;xx&quot;
BasicAuthPass = &quot;xx&quot;

[[Pushgw.Writers]]
Url = &quot;http://127.0.0.1:8482/api/v1/write&quot;
BasicAuthUser = &quot;xx&quot;
BasicAuthPass = &quot;xx&quot;
</code></pre><ul><li><code>Url</code>: Remote write address of the time-series database</li><li><code>BasicAuth</code>: If the time-series database requires BasicAuth authentication, configure the BasicAuth username and password here</li><li><code>Headers</code>: If the time-series database requires additional headers, configure them here</li><li><code>Timeout</code>: Write timeout in milliseconds</li><li><code>DialTimeout</code>: Connection timeout in milliseconds</li></ul><h4 id=pushgwwriterswriterelabels>Pushgw.Writers.WriteRelabels <a href=#pushgwwriterswriterelabels class=anchor aria-hidden=true>#</a></h4><p>Data written to the time-series database can undergo relabeling before writing. This configuration item is for relabeling, similar to Prometheus&rsquo;s relabel configuration items, except that Prometheus uses yaml format while Nightingale uses toml format.</p><h2 id=ibex>Ibex <a href=#ibex class=anchor aria-hidden=true>#</a></h2><p>Configuration items for the fault self-healing engine Ibex, i.e., the function for remote script execution. Originally, this function was a separate module called ibex, which was later merged into n9e, so this configuration item is also in n9e.</p><pre><code class=language-toml>[Ibex]
Enable = true
RPCListen = &quot;0.0.0.0:20090&quot;
</code></pre><ul><li><code>Enable</code>: Whether to enable the Ibex server function</li><li><code>RPCListen</code>: RPC service listening address of Ibex</li></ul><h2 id=n9e-edge-configuration>n9e-edge configuration <a href=#n9e-edge-configuration class=anchor aria-hidden=true>#</a></h2><p>The configuration file for the edge alert engine n9e-edge is <code>etc/edge/edge.toml</code>, and most configurations are the same as those of the central n9e. For more information, you can refer to this article: <a href=/docs/prologue/architecture/#edge-mode>Nightingale Monitoring - Edge Alert Engine Architecture Detailed Explanation</a>.</p><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"><div class=edit-page><a href=https://github.com/n9e/n9e.github.io/blob/master/content/en/docs/install/configuration.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></div></div><div class="docs-navigation d-flex justify-content-between"><a href=/docs/install/helm/><div class="card my-1"><div class="card-body py-2">&larr; Helm</div></div></a><a class=ms-auto href=/docs/agent/categraf/><div class="card my-1"><div class="card-body py-2">Categraf &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>&copy; 2025 CCFNightingale, all rights reserved.</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.0a0106334435d4110713bfaff4acaf02533b0c56d44412a74e9518db07672ddb7e099a9c7517bc9cb529e2ddd4ae2e438b40b720288900d5e74fb6d8928d9097.js integrity="sha512-CgEGM0Q11BEHE7+v9KyvAlM7DFbURBKnTpUY2wdnLdt+CZqcdRe8nLUp4t3Uri5Di0C3ICiJANXnT7bYko2Qlw==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.0d31f7af12feb83ee633b6351b023ee643ea3412376fbaa09c5a26d1a5ef999939f1ad379a5b12e1199a2c7d72ae1b23f633060a679628dcbfb0e72378cd20be.js integrity="sha512-DTH3rxL+uD7mM7Y1GwI+5kPqNBI3b7qgnFom0aXvmZk58a03mlsS4RmaLH1yrhsj9jMGCmeWKNy/sOcjeM0gvg==" crossorigin=anonymous defer></script>
<script src=/main.min.6afc4bf655f45ae3e63629ec95be8bd2e0e792084b5635a6fe70b169fa9d1491638b3a4e900ed59c2e017ca18768e5c392e110d0e1336509f49f7dc418d16eef.js integrity="sha512-avxL9lX0WuPmNinslb6L0uDnkghLVjWm/nCxafqdFJFjizpOkA7VnC4BfKGHaOXDkuEQ0OEzZQn0n33EGNFu7w==" crossorigin=anonymous defer></script>
<script src=https://n9e.github.io/index.min.23c81326645bf6168f4af7604e93984267d172a79c1d4f5e6c4ae8e87a3ecfd4d84ce34b23042c5f2ba8ed67e49e8db4e0af409a826c8b564693ac760baeb5bf.js integrity="sha512-I8gTJmRb9haPSvdgTpOYQmfRcqecHU9ebEro6Ho+z9TYTONLIwQsXyuo7Wfkno204K9AmoJsi1ZGk6x2C661vw==" crossorigin=anonymous defer></script>
<script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?9d7cc507a7aae60b28b5e04bb995492a",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></body></html>