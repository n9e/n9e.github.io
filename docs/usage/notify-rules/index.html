<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://n9e.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://n9e.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://n9e.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://n9e.github.io/main.7b58de4a5990880200af4bf0d216e45826b72930af377efb61dc530be6ed1a2a71c0462002b812c1cb6f5352d58734dc9fc8620763f6b178458f31a889d5183d.css integrity="sha512-e1jeSlmQiAIAr0vw0hbkWCa3KTCvN377YdxTC+btGipxwEYgArgSwctvU1LVhzTcn8hiB2P2sXhFjzGoidUYPQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Notification Rules - Nightingale</title><meta name=description content="Nightingale monitoring supports notification rules, which allow configuration of notification methods, recipients, etc. When an alarm event is triggered, Nightingale will send notifications according to the notification rules. For example, high-level alarms can be sent via phone calls, SMS, or DingTalk, while low-level alarms can be sent via email."><link rel=canonical href=https://n9e.github.io/docs/usage/notify-rules/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Notification Rules"><meta property="og:description" content="Nightingale monitoring supports notification rules, which allow configuration of notification methods, recipients, etc. When an alarm event is triggered, Nightingale will send notifications according to the notification rules. For example, high-level alarms can be sent via phone calls, SMS, or DingTalk, while low-level alarms can be sent via email."><meta property="og:url" content="https://n9e.github.io/docs/usage/notify-rules/"><meta property="og:site_name" content="Home"><meta property="article:published_time" content="2025-07-26T17:16:57+08:00"><meta property="article:modified_time" content="2025-07-30T12:16:46+08:00"><meta property="og:image" content="https://n9e.github.io/doks.png"><meta property="og:image:alt" content="Home"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@ulricqin"><meta name=twitter:creator content="@henkverlinde"><meta name=twitter:title content="Notification Rules"><meta name=twitter:description content="Nightingale monitoring supports notification rules, which allow configuration of notification methods, recipients, etc. When an alarm event is triggered, Nightingale will send notifications according to the notification rules. For example, high-level alarms can be sent via phone calls, SMS, or DingTalk, while low-level alarms can be sent via email."><meta name=twitter:image content="https://n9e.github.io/doks.png"><meta name=twitter:image:alt content="Notification Rules"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://n9e.github.io/#/schema/organization/1","name":"Doks","url":"https://n9e.github.io/","sameAs":["https://twitter.com/ulricqin","https://github.com/ccfos/nightingale"],"logo":{"@type":"ImageObject","@id":"https://n9e.github.io/#/schema/image/1","url":"https://n9e.github.io/logo-doks.png","width":512,"height":512,"caption":"Doks"},"image":{"@id":"https://n9e.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://n9e.github.io/#/schema/website/1","url":"https://n9e.github.io/","name":"Home","description":"Nightingale is an open-source monitoring system that focuses on alerting.","publisher":{"@id":"https://n9e.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://n9e.github.io/docs/usage/notify-rules/","url":"https://n9e.github.io/docs/usage/notify-rules/","name":"Notification Rules","description":"Nightingale monitoring supports notification rules, which allow configuration of notification methods, recipients, etc. When an alarm event is triggered, Nightingale will send notifications according to the notification rules. For example, high-level alarms can be sent via phone calls, SMS, or DingTalk, while low-level alarms can be sent via email.","isPartOf":{"@id":"https://n9e.github.io/#/schema/website/1"},"about":{"@id":"https://n9e.github.io/#/schema/organization/1"},"datePublished":"2025-07-26T17:16:57CET","dateModified":"2025-07-30T12:16:46CET","breadcrumb":{"@id":"https://n9e.github.io/docs/usage/notify-rules/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://n9e.github.io/docs/usage/notify-rules/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://n9e.github.io/docs/usage/notify-rules/"]}]},{"@type":"BreadcrumbList","@id":"https://n9e.github.io/docs/usage/notify-rules/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://n9e.github.io/","url":"https://n9e.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://n9e.github.io/docs/","url":"https://n9e.github.io/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://n9e.github.io/docs/usage/","url":"https://n9e.github.io/docs/usage/","name":"Usage"}},{"@type":"ListItem","position":4,"item":{"@id":"https://n9e.github.io/docs/usage/notify-rules/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://n9e.github.io/#/schema/article/1","headline":"Notification Rules","description":"Nightingale monitoring supports notification rules, which allow configuration of notification methods, recipients, etc. When an alarm event is triggered, Nightingale will send notifications according to the notification rules. For example, high-level alarms can be sent via phone calls, SMS, or DingTalk, while low-level alarms can be sent via email.","isPartOf":{"@id":"https://n9e.github.io/docs/usage/notify-rules/"},"mainEntityOfPage":{"@id":"https://n9e.github.io/docs/usage/notify-rules/"},"datePublished":"2025-07-26T17:16:57CET","dateModified":"2025-07-30T12:16:46CET","author":{"@id":"https://n9e.github.io/#/schema/person/2"},"publisher":{"@id":"https://n9e.github.io/#/schema/organization/1"},"image":{"@id":"https://n9e.github.io/docs/usage/notify-rules/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://n9e.github.io/#/schema/person/2","name":"Henk Verlinde","sameAs":["https://twitter.com/henkverlinde","https://www.linkedin.com/in/henkverlinde/","https://github.com/UlricQin"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://n9e.github.io/docs/usage/notify-rules/#/schema/image/2","url":"https://n9e.github.io/doks.png","contentUrl":"https://n9e.github.io/doks.png","caption":"Notification Rules"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://n9e.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://n9e.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://n9e.github.io/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://n9e.github.io/site.webmanifest></head><body class="docs single"><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/ aria-label=Home>Home</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>Home</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/docs/prologue/introduction/>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/blog/>Blogs</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/ccfos/nightingale><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><div class="dropdown order-md-2"><button class="btn btn-doks-light dropdown-toggle" id=doks-languages data-bs-toggle=dropdown aria-expanded=false data-bs-display=static>
EN
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></button><ul class="dropdown-menu dropdown-menu-end shadow rounded border-0" aria-labelledby=doks-languages><li><a class="dropdown-item current" aria-current=true href=/docs/usage/notify-rules/>English</a></li><li><hr class=dropdown-divider></li><li><a class=dropdown-item rel=alternate href=/zh/docs/usage/notify-rules/ hreflang=zh lang=zh>Chinese</a></li></ul></div></nav></header><nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation"><div class="container-xxl d-flex align-items-md-center"><form class="doks-search position-relative flex-grow-1 me-auto"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><button class="btn doks-sidebar-toggle d-lg-none ms-3 order-3 collapsed" type=button data-bs-toggle=collapse data-bs-target=#doks-docs-nav aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle documentation navigation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></button></div></nav><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-5f2cae171c6192fa410df4385f7218aa aria-expanded=false>
Prologue</button><div class=collapse id=section-5f2cae171c6192fa410df4385f7218aa><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/prometheus/>Nightingale vs Prometheus</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/pre-knowledge/>Prior knowledge</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/architecture/>Architecture</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/flashcat/>Enterprise Edition</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/videos/>Videos for Getting Started</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-7cd8fb6e31cc946c078d2740c76a9899 aria-expanded=false>
Installation</button><div class=collapse id=section-7cd8fb6e31cc946c078d2740c76a9899><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/pre-intro/>Pre-Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/upgrade/>Upgrade</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/binary/>Binary Deployment</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/compose/>Docker Compose</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/helm/>Helm</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/configuration/>Configuration</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8fc330d76e990ab6964af08ea1e47d2e aria-expanded=false>
Collector</button><div class=collapse id=section-8fc330d76e990ab6964af08ea1e47d2e><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/intro/>Pre explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/categraf/>Categraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/telegraf/>Telegraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/datadog-agent/>Datadog-Agent</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-411eaaaa405899304e54dce3363a2baf aria-expanded=true>
Quick Start</button><div class="collapse show" id=section-411eaaaa405899304e54dce3363a2baf><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/datasource/>Data Sources</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/ad-hoc/>Ad-hoc Query</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/metric-alerting/>Metric Alerting</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/logs-alerting/>Log Alerting</a></li><li><a class="docs-link rounded active" href=https://n9e.github.io/docs/usage/notify-rules/>Notification Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/dashboard/>Dashboard</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8c004d7e3b8a5a850ab2459c3afc2f57 aria-expanded=false>
Practice</button><div class=collapse id=section-8c004d7e3b8a5a850ab2459c3afc2f57><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/linux/>Linux OS</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/proc/>Process</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/port/>Port</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/exec/>Plugin Scripts</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/mysql/>MySQL</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/redis/>Redis</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/oracle/>Oracle</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-4de8388d84a18a2e157114d9fecff0fe aria-expanded=false>
Use Case</button><div class=collapse id=section-4de8388d84a18a2e157114d9fecff0fe><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/alerting/>Alerting Principles and Process Explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/bizgroup/>Business Groups</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/mute/>Muting Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/subscribe/>Subscription Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/processor/>Event Processor</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/media/>Custom Notification Media</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/sso/>Single Sign-On (SSO)</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/api/>API</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1fe917b01f9a3f87fa2d7d3b7643fac1 aria-expanded=false>
FAQ</button><div class=collapse id=section-1fe917b01f9a3f87fa2d7d3b7643fac1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/global-callback/>Global Callback is Deprecated, How to Handle Global Scenarios?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/cpu-alerting/>Should 'High CPU Load' Trigger an Alert?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/biz-team-subscribe-infra-alarms/>Should upper-layer businesses receive alarms from underlying infrastructure?</a></li></ul></div></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-5f2cae171c6192fa410df4385f7218aa aria-expanded=false>
Prologue</button><div class=collapse id=section-5f2cae171c6192fa410df4385f7218aa><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/prometheus/>Nightingale vs Prometheus</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/pre-knowledge/>Prior knowledge</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/architecture/>Architecture</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/flashcat/>Enterprise Edition</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/prologue/videos/>Videos for Getting Started</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-7cd8fb6e31cc946c078d2740c76a9899 aria-expanded=false>
Installation</button><div class=collapse id=section-7cd8fb6e31cc946c078d2740c76a9899><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/pre-intro/>Pre-Introduction</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/upgrade/>Upgrade</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/binary/>Binary Deployment</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/compose/>Docker Compose</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/helm/>Helm</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/install/configuration/>Configuration</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8fc330d76e990ab6964af08ea1e47d2e aria-expanded=false>
Collector</button><div class=collapse id=section-8fc330d76e990ab6964af08ea1e47d2e><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/intro/>Pre explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/categraf/>Categraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/telegraf/>Telegraf</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/agent/datadog-agent/>Datadog-Agent</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-411eaaaa405899304e54dce3363a2baf aria-expanded=true>
Quick Start</button><div class="collapse show" id=section-411eaaaa405899304e54dce3363a2baf><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/datasource/>Data Sources</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/ad-hoc/>Ad-hoc Query</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/metric-alerting/>Metric Alerting</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/logs-alerting/>Log Alerting</a></li><li><a class="docs-link rounded active" href=https://n9e.github.io/docs/usage/notify-rules/>Notification Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usage/dashboard/>Dashboard</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8c004d7e3b8a5a850ab2459c3afc2f57 aria-expanded=false>
Practice</button><div class=collapse id=section-8c004d7e3b8a5a850ab2459c3afc2f57><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/linux/>Linux OS</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/proc/>Process</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/port/>Port</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/exec/>Plugin Scripts</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/mysql/>MySQL</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/redis/>Redis</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/practice/oracle/>Oracle</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-4de8388d84a18a2e157114d9fecff0fe aria-expanded=false>
Use Case</button><div class=collapse id=section-4de8388d84a18a2e157114d9fecff0fe><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/alerting/>Alerting Principles and Process Explanation</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/bizgroup/>Business Groups</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/mute/>Muting Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/subscribe/>Subscription Rules</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/processor/>Event Processor</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/media/>Custom Notification Media</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/sso/>Single Sign-On (SSO)</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/usecase/api/>API</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1fe917b01f9a3f87fa2d7d3b7643fac1 aria-expanded=false>
FAQ</button><div class=collapse id=section-1fe917b01f9a3f87fa2d7d3b7643fac1><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/global-callback/>Global Callback is Deprecated, How to Handle Global Scenarios?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/cpu-alerting/>Should 'High CPU Load' Trigger an Alert?</a></li><li><a class="docs-link rounded" href=https://n9e.github.io/docs/faq/biz-team-subscribe-infra-alarms/>Should upper-layer businesses receive alarms from underlying infrastructure?</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#design-purpose>Design Purpose</a></li><li><a href=#logic-diagram>Logic Diagram</a></li><li><a href=#configuration-instructions>Configuration Instructions</a></li><li><a href=#configuration-examples>Configuration Examples</a></li><li><a href=#email-alarm-configuration>Email Alarm Configuration</a><ul><li><a href=#1-smtp-server-configuration>1. SMTP Server Configuration</a></li><li><a href=#2-users-configure-their-email-addresses-in-personal-profiles>2. Users Configure Their Email Addresses in Personal Profiles</a></li><li><a href=#3-configure-notification-rules>3. Configure Notification Rules</a></li><li><a href=#4-email-notification-message-template>4. Email Notification Message Template</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Notification Rules</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#design-purpose>Design Purpose</a></li><li><a href=#logic-diagram>Logic Diagram</a></li><li><a href=#configuration-instructions>Configuration Instructions</a></li><li><a href=#configuration-examples>Configuration Examples</a></li><li><a href=#email-alarm-configuration>Email Alarm Configuration</a><ul><li><a href=#1-smtp-server-configuration>1. SMTP Server Configuration</a></li><li><a href=#2-users-configure-their-email-addresses-in-personal-profiles>2. Users Configure Their Email Addresses in Personal Profiles</a></li><li><a href=#3-configure-notification-rules>3. Configure Notification Rules</a></li><li><a href=#4-email-notification-message-template>4. Email Notification Message Template</a></li></ul></li></ul></nav></div></nav><p>Alarm rules are responsible for generating alarm events, and notification rules are responsible for sending out alarms. Different alarms can use different notification media. For example, high-level alarms can be sent via phone calls, SMS, or DingTalk, while low-level alarms can be sent via email.</p><h2 id=design-purpose>Design Purpose <a href=#design-purpose class=anchor aria-hidden=true>#</a></h2><p>Older versions of Nightingale did not have the concept of notification rules. Notification media and recipients were directly configured in alarm rules. Although this was intuitive, it lacked flexibility, with the following issues:</p><ul><li>When suppression was enabled in alarm rules, the notification media were still hard-coded. In previous versions, enabling suppression rules usually meant that different thresholds required different levels, and thus different notification media. For example, Critical-level alarms might use phone calls or SMS, while Info-level alarms used Email. However, in previous versions, the notification media were fixed and could not vary by level.</li><li>Integrating notification methods like phone calls and SMS was inconvenient. This version provides universal HTTP and script-based sending methods, with customizable HTTP parameters, headers, and bodies, making it easier to integrate different notification media.</li><li>Previous notification methods were tightly coupled with alarm rules, making modifications cumbersome. The new version introduces the concept of &ldquo;notification rules.&rdquo; Alarm rules are directly associated with notification rules, and the specific sending methods are defined in the notification rules. This decouples alarm rules from notification rules. Multiple alarm rules can be associated with a single notification rule, so changing the notification method only requires modifying the notification rule, affecting all associated alarm rules.</li><li>Message templates in previous versions were rigid, with each type of notification medium limited to a fixed template. The new version supports custom message templates, and each notification medium can be associated with different templates. For example, the DBA team and Big Data team can both use DingTalk robots for alarms but with different message templates.</li></ul><h2 id=logic-diagram>Logic Diagram <a href=#logic-diagram class=anchor aria-hidden=true>#</a></h2><p>The overall process for sending alarm events in the new version is as follows:</p><img src=/img/usage/notify-rules/01.png alt="Interaction logic between notification rules and alarm rules"><p>In previous versions, notification media and recipients were directly configured in alarm rules, leading to tight coupling. In the new version, alarm rules are associated with notification rules, and the sending details are defined in the notification rules. This decoupling allows multiple alarm rules to reference a single notification rule, simplifying updates to notification methods.</p><h2 id=configuration-instructions>Configuration Instructions <a href=#configuration-instructions class=anchor aria-hidden=true>#</a></h2><p>Notification rules support different notification media and can define the scope of application for each medium. For example, phone calls may only apply to Critical alarms, while Email may apply to Critical, Warning, and Info alarms. Below is a sample configuration of a notification rule:</p><img src=/img/usage/notify-rules/02.png alt="Sample notification rule configuration"><p>We provide some built-in notification media for out-of-the-box use:</p><img src=/img/usage/notify-rules/03.png alt="List of built-in media"><p>When configuring a notification medium, the &ldquo;Variable Configuration&rdquo; may be confusing. Consider this scenario: Both the DBA team and BigData team want to use WeCom for alarms but with different WeCom robots (i.e., similar Webhook URLs but different Key parameters in the URL, where each Key represents a different robot). How to handle this?</p><p>In Nightingale&rsquo;s design, we avoid creating two separate notification media. Instead, we use a single WeCom medium that supports parameters. DBA team members configure the WeCom medium in their notification rules and provide their robot&rsquo;s Key, while BigData team members do the same with their Key. This way, one medium supports multiple robots.</p><p>To enable parameter support for a notification medium, configure variables in the medium&rsquo;s settings. The built-in WeCom medium, for example, has two parameters: Key (WeCom robot Key) and Bot Name (a custom name for easy reference, similar to a note). These parameters can then be referenced in the medium&rsquo;s HTTP configuration:</p><img src=/img/usage/notify-rules/04.png alt="Notification medium variable definition"><p>This scenario is straightforward: the medium retrieves the Key provided by the user. For more complex scenarios, such as sending SMS, how should medium parameters be defined? If we directly define a Phone parameter and require users to enter phone numbers manually in notification rules, it would be cumbersome. Additionally, if a user&rsquo;s contact information changes, they would need to update both their profile and the notification rule, which is inefficient. Since phone numbers are already stored in user profiles, we can link the two.</p><p>For such scenarios, medium parameters can be derived from user Profile information. This requires referencing user Profile data in the medium&rsquo;s variable configuration. For example:</p><img src=/img/usage/notify-rules/05.png alt="Notification medium managing user Profile"><p>In the medium variables, selecting &ldquo;Phone&rdquo; as the contact method enables the following functionality:</p><ul><li>In the notification rule, the system recognizes that the medium requires phone numbers from user profiles, allowing selection of contacts or teams instead of manual entry of phone numbers.</li><li>In the HTTP request body or query string, the magic variable <code>{{ $sendto }}</code> can be referenced, representing the recipient&rsquo;s phone number. This allows the medium to send alarms to the correct recipient. The <code>{{ $sendto }}</code> design is inspired by Zabbix, so users familiar with Zabbix will find it intuitive.</li></ul><h2 id=configuration-examples>Configuration Examples <a href=#configuration-examples class=anchor aria-hidden=true>#</a></h2><ul><li><a href=https://flashcat.cloud/blog/n9e-v8-notify-dingtalk/>Integrating DingTalk Alerts</a></li><li><a href=https://flashcat.cloud/blog/n9e-v8-notify-wecom/>Integrating WeCom Alerts</a></li><li><a href=https://flashcat.cloud/blog/n9e-v8-notify-feishu/>Integrating Feishu Alerts</a></li><li><a href=https://flashcat.cloud/blog/n9e-v8-notify-dingtalk-ats/>Integrating DingTalk Alerts: How to Configure Mentions</a></li><li><a href=https://flashcat.cloud/blog/n9e-v8-notify-practice/>Integrating DingTalk, Feishu, and WeCom Notifications</a></li><li><a href=https://flashcat.cloud/docs/content/flashcat-monitor/nightingale-v7/usage/notification/ali-sms/>Integrating Alibaba Cloud SMS</a></li></ul><p>Additionally, a video tutorial on integrating Feishu alerts is available on the WeChat Channels: SRETALK. You can search for it to watch.</p><h2 id=email-alarm-configuration>Email Alarm Configuration <a href=#email-alarm-configuration class=anchor aria-hidden=true>#</a></h2><p>The links above cover common IM notification media. Here, we补充 (add) instructions for configuring email alarms. To send alarm emails, three key configurations are required:</p><ol><li>SMTP server settings</li><li>Recipients&rsquo; email addresses in their profiles</li><li>Email notification message templates</li></ol><h3 id=1-smtp-server-configuration>1. SMTP Server Configuration <a href=#1-smtp-server-configuration class=anchor aria-hidden=true>#</a></h3><p>Navigate to the <code>Media types</code> menu, find the built-in Email medium, and edit it to enter SMTP server details. An example configuration is shown below:</p><img src=/img/usage/notify-rules/06.png alt="Email notification medium configuration"><h3 id=2-users-configure-their-email-addresses-in-personal-profiles>2. Users Configure Their Email Addresses in Personal Profiles <a href=#2-users-configure-their-email-addresses-in-personal-profiles class=anchor aria-hidden=true>#</a></h3><p>Click the avatar in the top-right corner to access the personal information page and enter the email address for receiving alarms.</p><h3 id=3-configure-notification-rules>3. Configure Notification Rules <a href=#3-configure-notification-rules class=anchor aria-hidden=true>#</a></h3><p>For testing, create a new notification rule (or modify an existing one to add the email medium) that applies to all alarm levels, ensuring every alarm triggers an email notification. Example configuration:</p><img src=/img/usage/notify-rules/07.png alt="Email notification rule configuration"><p>The example above sends notifications to an individual, but you can also select a team. Click &ldquo;Test Notification&rdquo; and choose a historical alarm event to test email delivery. Finally, associate this notification rule with your alarm rules.</p><h3 id=4-email-notification-message-template>4. Email Notification Message Template <a href=#4-email-notification-message-template class=anchor aria-hidden=true>#</a></h3><p>In the <code>Message templates</code> menu, find the <code>Email</code> template, which includes two variables:</p><ul><li>content: Email body content</li><li>subject: Email subject</li></ul><p>Both fields use Go template syntax, allowing customization of email content and subject as needed.</p><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"><div class=edit-page><a href=https://github.com/n9e/n9e.github.io/blob/master/content/en/docs/usage/notify-rules.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></div></div><div class="docs-navigation d-flex justify-content-between"><a href=/docs/usage/logs-alerting/><div class="card my-1"><div class="card-body py-2">&larr; Log Alerting</div></div></a><a class=ms-auto href=/docs/usage/dashboard/><div class="card my-1"><div class="card-body py-2">Dashboard &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>&copy; 2025 CCF·Nightingale, all rights reserved.</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.0a0106334435d4110713bfaff4acaf02533b0c56d44412a74e9518db07672ddb7e099a9c7517bc9cb529e2ddd4ae2e438b40b720288900d5e74fb6d8928d9097.js integrity="sha512-CgEGM0Q11BEHE7+v9KyvAlM7DFbURBKnTpUY2wdnLdt+CZqcdRe8nLUp4t3Uri5Di0C3ICiJANXnT7bYko2Qlw==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.0d31f7af12feb83ee633b6351b023ee643ea3412376fbaa09c5a26d1a5ef999939f1ad379a5b12e1199a2c7d72ae1b23f633060a679628dcbfb0e72378cd20be.js integrity="sha512-DTH3rxL+uD7mM7Y1GwI+5kPqNBI3b7qgnFom0aXvmZk58a03mlsS4RmaLH1yrhsj9jMGCmeWKNy/sOcjeM0gvg==" crossorigin=anonymous defer></script>
<script src=/main.min.6afc4bf655f45ae3e63629ec95be8bd2e0e792084b5635a6fe70b169fa9d1491638b3a4e900ed59c2e017ca18768e5c392e110d0e1336509f49f7dc418d16eef.js integrity="sha512-avxL9lX0WuPmNinslb6L0uDnkghLVjWm/nCxafqdFJFjizpOkA7VnC4BfKGHaOXDkuEQ0OEzZQn0n33EGNFu7w==" crossorigin=anonymous defer></script>
<script src=https://n9e.github.io/index.min.da360db418e417ae98e29714f321e339753db2d91374939e5a5eb03d28aeaacb022b7bae89a356afa70b73562b5a28f906a749693d0ea518973c7ba1d3615a1e.js integrity="sha512-2jYNtBjkF66Y4pcU8yHjOXU9stkTdJOeWl6wPSiuqssCK3uuiaNWr6cLc1YrWij5BqdJaT0OpRiXPHuh02FaHg==" crossorigin=anonymous defer></script>
<script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?9d7cc507a7aae60b28b5e04bb995492a",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></body></html>