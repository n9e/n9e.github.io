---
title: "指标告警"
description: "夜莺监控（Nightingale）支持指标告警，根据用户配置的告警规则，周期性查询数据源，当数据源中的数据满足告警阈值时，触发告警。"
date: 2025-01-26T11:45:54+08:00
lastmod: 2025-05-31T23:10:28.891+08:00
draft: false
images: []
menu:
  docs:
    parent: "usage"
weight: 1200
toc: true
---

夜莺监控（Nightingale）把告警分成告警+通知两个部分，告警指的是通过规则，周期性判定，最终产生告警事件，通知指的是告警事件的后续 Pipeline 和通知流程。本章节先介绍告警部分，最终能产生告警事件咱就算成功。

## 告警原理

夜莺支持两个告警模式，普通模式和高级模式：

- 普通模式：在 Promql 中配置告警阈值，`查询条件` 和 `阈值设置` 在一起，没有特殊需求的话就使用普通模式即可，这个模式就和 Prometheus 的告警逻辑是一样的，性能比较好。不过告警恢复时要想拿到恢复时的值稍微麻烦点
- 高级模式：`查询条件` 和 `阈值设置` 分开，如果有多个查询条件需要做加减乘除计算，可以使用高级模式，在告警事件的现场值中会将每个查询条件的值展示出来，在告警恢复时也可以轻松拿到恢复时的值

### 普通模式的原理

未完待续...
